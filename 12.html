<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>12th Grade Rankings - BHS Baddies</title>
<link rel="stylesheet" href="style.css">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyCzT0n2tF_E8p5amHHyPErhbe0lOMlP7us",
  authDomain: "bhsbaddies.firebaseapp.com",
  projectId: "bhsbaddies",
  storageBucket: "bhsbaddies.firebasestorage.app",
  messagingSenderId: "199970593259",
  appId: "1:199970593259:web:30f05fb927f92206c161ae"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
</script>
</head>
<body>

<header>
  <div class="title-section">
    <h1><a href="index.html">BHS Baddies</a></h1>
    <div class="grade-links">
      <a href="9.html">9th</a>
      <a href="10.html">10th</a>
      <a href="11.html">11th</a>
      <a href="12.html">12th</a>
      <a href="create.html" class="btn">Create Your Ranking</a>
    </div>
  </div>
</header>

<main>
  <h2>12th Grade Rankings</h2>
  <div id="rankingsContainer"></div>
</main>

<script>
const rankingsContainer = document.getElementById('rankingsContainer');

db.collection("rankings").where("grade", "==", "12").orderBy("timestamp", "desc").get()
  .then(snapshot => {
    snapshot.forEach(doc => {
      const data = doc.data();
      const div = document.createElement('div');
      div.className = 'ranking-card';
      div.innerHTML = `
        <h3>${data.username}'s Rankings</h3>
        <ol>${data.players.map(p => `<li>${p}</li>`).join('')}</ol>
        <p>${data.comment}</p>
      `;
      rankingsContainer.appendChild(div);
    });
  })
  .catch(err => console.error(err));
</script>

</body>
</html>
